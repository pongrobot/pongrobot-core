<launch>
    <arg name="use_graphics" default="true"/>
    <arg name="use_drag" default="false"/>
    <rosparam ns="rate" file="$(find pongrobot_actuation)/config/rate_config.yaml" />

    <group ns="launcher">
        <rosparam file="$(find pongrobot_actuation)/config/launcher_config.yaml" />

        <!-- Overwrite the use_drag option if specified-->
        <group if="$(arg use_drag)">
            <param name="trajectory/use_drag" value="true"/>
        </group>

        <node name="trajectory_manager_node" pkg="pongrobot_actuation" type="trajectory_manager_node" output="screen" launch-prefix="gdb" />
        <group if="$(arg use_graphics)">
            <node type="rviz" name="rviz" pkg="rviz" args="-d $(find pongrobot_actuation)/rviz/trajectory_visualizer.rviz" />
        </group>
    </group>
</launch>

